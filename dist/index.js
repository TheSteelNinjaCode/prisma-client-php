#!/usr/bin/env node
import chalk from"chalk";import fs from"fs";import path from"path";import{pathToFileURL}from"url";import{getFileMeta}from"./utils.js";const{__dirname}=getFileMeta(),args=process.argv.slice(2),commandsToExecute={generate:"generate",init:"init"},executeFile=async(e,o=[])=>{const t=path.join(__dirname,e);fs.existsSync(t)||(console.error(chalk.red(`File '${e}' not found.`)),process.exit(1));try{const e=await import(pathToFileURL(t).toString());e.default&&e.default(o)}catch(e){console.error("Error executing file:",e)}},main=async()=>{if(0===args.length)return void console.log("No command provided.");const e=args[0],o=args.slice(1);commandsToExecute.generate===e?await executeFile("generate.js",o):commandsToExecute.init===e?await executeFile("init.js",o):console.log(chalk.red("Invalid command. Use: npx ppo generate"))};main().catch(e=>{console.error("Unhandled error in main function:",e)});